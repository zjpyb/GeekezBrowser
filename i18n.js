// English Translations (Default)
const enTranslations = {
    enablePreProxy: "Enable Chain Proxy",
    manageChain: "Proxy Chain",
    importYaml: "Import Data",
    newProfile: "New Profile",
    generateBtn: "Generate & Save",
    editFingerprint: "Edit Profile",
    profileName: "Profile Name",
    proxyLink: "Proxy Link",
    proxyLinkOptional: "Proxy Link (Optional, leave empty for direct connection)",
    profileNameRequired: "Profile name is required!",
    preProxySetting: "Pre-Proxy",
    optDefault: "Global",
    optOn: "Force ON",
    optOff: "Force OFF",
    screenRes: "Resolution",
    cancel: "Cancel",
    save: "Save",
    add: "Add",
    launch: "Launch",
    close: "Close",
    edit: "Edit",
    delete: "Delete",
    notify: "Notify",
    modeSingle: "Single Node",
    modeBalance: "Load Balance",
    modeFailover: "Failover",
    qsDefault: "Pre: Global",
    qsOn: "Pre: ON",
    qsOff: "Pre: OFF",
    confirmDel: "Delete this profile?",
    inputReq: "Profile name is required!", // ‰øùÁïôÂêëÂêéÂÖºÂÆπ
    profileNameRequired: "Profile name is required!",
    runningStatus: "RUNNING",
    done: "Done",
    remark: "Remark",
    latency: "Latency",
    testWait: "...",
    themeGeek: "Geek (Blue)", themeLight: "Light (Red)", themeDark: "Dark (Green)",
    btnImportSub: "+ New Sub",
    btnTestGroup: "‚ö° Test Group & Auto-Switch",
    btnTest: "Test",
    btnEdit: "Edit",
    btnEditSub: "‚úé Edit Sub",
    btnDelSub: "Delete Sub",
    btnSaveUpdate: "Save & Update",
    btnExport: "Export",
    exportTitle: "Export Configuration",
    expAll: "Full Backup (All)",
    expAllDesc: "Profiles, Proxies and Subscriptions",
    expProxies: "Proxies Only",
    expProxiesDesc: "Chain Proxies & Subscriptions Settings",
    expProfiles: "Profiles Only",
    expProfilesDesc: "Browser Environments & Fingerprints",
    msgExportSuccess: "Export Successful!",
    msgImportSuccess: "Import Successful!",
    msgNoData: "No data found to export.",
    importSubTitle: "Enter Subscription URL",
    subErr: "Failed to parse subscription.",
    subTitle: "Subscription Settings",
    subName: "Name",
    subUrl: "URL",
    subInterval: "Auto Update",
    optDisabled: "Disabled",
    opt24h: "Every 24 Hours",
    opt72h: "Every 72 Hours",
    optCustom: "Custom (Hours)",
    groupManual: "Manual Added",
    helpTitle: "GeekEZ Manual",
    tabManual: "User Manual",
    tabAbout: "About & Safety",
    autoFingerprint: "* Fingerprints generated automatically",
    checkingUpdate: "Checking for updates...",
    appUpdateFound: "New App version found!",
    askUpdate: "Update now",
    xrayUpdateFound: "New Xray core found! Downloading...",
    noUpdate: "You are up to date.",
    updateError: "Update check failed.",
    updateDownloaded: "Update downloaded. Please restart.",
    emptyStateMsg: "Click '+ New Profile' to start",
    confirmDelSub: "Are you sure to delete this subscription?",
    msgSubUpdated: "Updated:",
    msgImported: "Imported",
    msgNodes: "nodes.",
    msgUpdateFailed: "Update Failed:",
    tagsLabel: "Tags (comma separated)",
    timezoneLabel: "Timezone",
    languageLabel: "Language",
    locationLabel: "Location (Geo)",
    geoAuto: "Auto (IP Based)",
    geoHint: "Select a city matching your proxy. Manual mismatch = ban.",
    settingsTitle: "‚öôÔ∏è Settings",
    settingsTabExtensions: "üß© Extensions",
    settingsTabAdvanced: "‚ö° Advanced",
    settingsExtTitle: "Extension Management",
    settingsExtDesc: "Load custom Chrome extensions. Extensions will be loaded automatically when launching profiles.",
    settingsExtAddBtn: "+ Add Extension Folder",
    settingsAdvTitle: "Advanced Settings",
    settingsAdvDesc: "Advanced features coming soon...",
    btnClose: "Close",
    settingsExtNoExt: "No extensions loaded",
    settingsExtRemove: "Remove",
    settingsExtAdded: "Extension added successfully!",
    settingsExtRemoved: "Extension removed!",
    debugPortLabel: "Remote Debugging Port",
    debugPortPlaceholder: "Leave empty for auto-assign (e.g., 9222)",
    debugPortWarning: "‚ö†Ô∏è Enabling debugging port may increase detection risk",
    debugTitle: "üîß Remote Debugging",
    debugDesc: "Enable remote debugging port for external Puppeteer/DevTools connection",
    debugWarningTitle: "Detection Risk Warning",
    debugWarningText: "Enabling remote debugging may increase the risk of automation detection by anti-bot systems. Only enable this feature when you need external control via Puppeteer or Chrome DevTools.",
    debugEnableLabel: "Enable Remote Debugging Port",
    debugEnableDesc: "When enabled, you can specify a custom debugging port for each profile",
    browserTypeLabel: "Browser Type",
    browserTypeSystem: "System Chrome",
    browserTypeBuiltin: "Built-in Chrome for Testing",
    browserTypeCustom: "Custom Path",
    browserPathPlaceholder: "Select Chrome executable path",
    browserBrowseBtn: "Browse...",
    browserDetecting: "Detecting...",
    browserPathPrefix: "Path: ",
    browserSystemNotFound: "System Chrome not detected, will use built-in version",
    browserBuiltinNotFound: "Built-in Chrome not detected, please run npm run setup",
    browserCustomInvalid: "Please select a valid Chrome executable",
    watermarkTitle: "üè∑Ô∏è Watermark Style",
    watermarkDesc: "Choose watermark display style, takes effect after restarting the profile",
    watermarkEnhancedLabel: "üéØ Enhanced Watermark (Recommended)",
    watermarkEnhancedDesc: "Bottom-right corner, gradient background + icon, subtle pulse animation, no page space occupied",
    watermarkBannerLabel: "üîπ Top Banner",
    watermarkBannerDesc: "Displayed at page top, very prominent, closable, occupies ~40px space",
    // Xray Core Management
    settingsTabXray: "üöÄ Xray Core",
    settingsXrayTitle: "Xray Core Management",
    settingsXrayDesc: "Manage Xray core versions. Switch between different versions for compatibility or testing.",
    xrayCurrentVersion: "Current Version",
    xrayVersion: "Version: ",
    xrayLastUpdate: "Last updated: ",
    xraySwitchTitle: "üîÑ Switch Version",
    xraySwitchDesc: "Select a version to switch. Changes will take effect on next profile launch.",
    xraySelectVersion: "Select a version...",
    xraySwitchBtn: "Switch Version",
    xrayAvailableTitle: "üì¶ Available Versions",
    xrayAvailableDesc: "Showing local versions and latest 10 releases from GitHub",
    xrayRefreshBtn: "üîÑ Refresh",
    xrayLoadingVersions: "Loading versions...",
    xrayNoVersions: "No versions available",
    xrayInstalledVersions: "üì• Installed",
    xrayGithubVersions: "‚òÅÔ∏è Available on GitHub (Latest 10)",
    xrayInstalled: "Installed",
    xrayLoadError: "Failed to load versions",
    xrayCurrent: "Current",
    xraySelect: "Select",
    xrayDownloadTitle: "‚¨áÔ∏è Download New Version",
    xrayDownloadDesc: "Enter a specific version tag or use 'latest' to download the newest version.",
    xrayDownloadBtn: "Download",
    xrayInfoTitle: "Important Notes",
    xrayInfo1: "Version changes require restarting running profiles",
    xrayInfo2: "Downloaded versions are stored locally and can be switched anytime",
    xrayInfo3: "Check Xray releases for available versions",
    xraySelectVersionFirst: "Please select a version first",
    xraySwitchSuccess: "Successfully switched version. Please restart running profiles.",
    xraySwitchFailed: "Failed to switch version",
    xraySwitchError: "Error switching xray version",
    xrayEnterVersion: "Please enter a version",
    xrayDownloading: "Downloading...",
    xrayDownloadSuccess: "Successfully downloaded",
    xrayDownloadFailed: "Failed to download",
    xrayDownloadError: "Error downloading xray version"
};

// Global i18n Manager
window.curLang = localStorage.getItem('geekez_lang') || 'cn';

window.t = function (key) {
    if (window.curLang === 'cn' && window.zhCN && window.zhCN[key]) {
        return window.zhCN[key];
    }
    return enTranslations[key] || key;
};

window.toggleLanguage = function () {
    window.curLang = window.curLang === 'cn' ? 'en' : 'cn';
    localStorage.setItem('geekez_lang', window.curLang);
    location.reload();
};
